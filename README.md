# Mini .NET Analyzers

Small but practical set of Roslyn analyzers with a simple WPF UI that analyzes your C# solution or project and presents findings in a clear grid.

## What this project does

- Runs custom Roslyn analyzers over a `.sln` or `.csproj`, then normalizes results into a UI friendly Data Transfer Object (DTO) with id, severity, message, file path, one based line and column, analyzer title, project name, and an optional code snippet around the issue. The UI lets you filter and inspect details.  
- The documentation explains each rule, how the runner wires analyzers to compilations, and how options flow from `.editorconfig`.

### Included analyzers

- **MNA0001 Avoid `async void`**  
  Flags `async void` methods, local functions, and async lambdas converted to `void` delegates. Skips common event handler shapes when allowed by options.
- **MNA0002 Do not use empty `catch` blocks**  
  Reports empty `catch` blocks. Can ignore cancellation exceptions and treat `;` only bodies as empty based on options.
- **MNA0003 Avoid `Console.Write` and `Console.WriteLine`**  
  Encourages a real logging API. Can allow top level statements or test contexts. Can enforce a required message prefix which becomes **MNA0003A** if missing.
- **MNA0004 Use descriptive names**  
  Flags very short or generic identifiers across locals, fields, parameters, and pattern variables. Allows `i`, `j`, `k` only in classic `for` initializers. Produces type aware hints for booleans and collections. Supports `.editorconfig` tuning.

## Project structure at a glance

- **MiniAnalyzers.Roslyn** contains the analyzers and their option schemas.  
- **MiniAnalyzers.Core** defines the analysis runner and `DiagnosticInfo`, a stable DTO the UI consumes.  
- **MiniAnalyzers.UI** is a WPF app that lets you select a solution or project, run analysis, cancel, and filter results.

## Build and run

### Requirements

- .NET 9 SDK  
- Windows with Visual Studio 2022 for the WPF UI

### Build everything

```
dotnet build
```

### Run the UI

```
dotnet run --project MiniAnalyzers.UI
```

Then click **Browse**, pick a `.sln` or `.csproj`, and hit **Analyze**. You can cancel a long run and filter by severity, id lists, or free text once results appear.

### Run tests

```
dotnet test
```

### Requirements for auto generated documentation

- docfx

### User documentation

For user documentation see [user-guide-wpf](Docs/user-guide-wpf.md)

### Build Documentation with docfx

```
cd Docs
docfx metadata
docfx build
.\_site\index.html
```

## Configuration with .editorconfig

You can control severity for each rule with the standard `dotnet_diagnostic.<ID>.severity` key and several rules expose extra options. The docs summarize all keys and how they are parsed.

- **MNA0001** options like `allow_event_handlers` and `check_anonymous_delegates`.  
- **MNA0002** options such as `ignore_cancellation`, `treat_empty_statement_as_empty`, and `allowed_exception_types`.  
- **MNA0003/MNA0003A** options to allow top level or tests, plus an optional `required_prefix` policy.  
- **MNA0004** options for minimum length, allow list, extra weak tokens, and whether to check `foreach` variables.  

Boolean values accept `true`, `false`, `1`, and `0`. Lists can use commas or semicolons and trim whitespace and quotes.

## Documentation (auto generated)

- Start here: **./Docs/_site/index.html** for rule overviews, runner notes, and option keys.  
- API reference is generated under **./Docs/api** and linked from the index.  
- Pre generated pdf documentation [./Docs/AutoGeneratedDocs.pdf](./Docs/AutoGeneratedDocs.pdf)


